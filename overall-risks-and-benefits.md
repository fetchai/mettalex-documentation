# Risks for Traders and Liquidity Providers

## Risks for Traders

Most of the trades nowadays are conducted through centralised exchanges. These are relatively efficient as they require traders to deposit the assets first in order to proceed with the trade. Dishonest or unprofessional exchange operators may confiscate or lose the assets given into custody. Moreover, centralised exchanges are susceptible to be attacked and therefore are exposed to malicious third parties. On the other hand, decentralised exchange protocols mitigate these issues by removing the trust requirement. Users do not need to deposit their assets as these remain in their control until the trade is executed. Smart contracts represent the linking bridge between traders. Both sides of the trade are performed in one indivisible transaction, mitigating the counter party credit risk. The contracts can assume the roles of custodians, escrow agents and central counter party clearing houses. For more information about the Decentralised Finance (i.e. DeFi) world and the overall risks to which traders are exposed to, visit the following link:

[Leitfaden Decentralized Finance (DeFi) – A new Fintech Revolution?](https://www.bitkom.org/Bitkom/Publikationen/Decentralized-Finance-A-new-Fintech-Revolution)

Mettalex is an experimental software: _**never invest more than you can afford to lose**_. &#x20;

Asset holders are equipped by the Mettalex system with risk management tools without charging high spreads. Users are not exposed to counter party risk as all transactions and trades happen through the Mettalex smart contract. This decentralisation can additionally be guaranteed through Position tokens which are backed by a fully collateralised collateral so removing the need for margin requirements and settlement. That is, no further funding is needed. Mettalex users have the opportunity to generate their own liquidity by creating more position tokens by locking-up new collateral. These new minted token pairs can be used to mitigate exposure to risks or create an exposure to certain commodity assets thanks to leveraging opportunities. The autonomous market maker uses a liquidity sensitive algorithm with bounded loss to manage market risk. Demand and liquidity in the Mettalex decoupled liquidity pool play an essential role in the automated market making process as the AMM adjusts the price of each token according to liquidity demand and the reference index fed from outside oracles. Trades take place inside a band of price values (Δ). In fact:

* if traders open a long position and then the spot price goes up then they will experience an increase in the value of the L token and a decrease in the value of the S one. As demand arises, the price of L tokens will go up until it reaches the cap. At this point the value of L tokens would be equal to the value of the backing collateral and S tokens would be worthless;
* if the spot price falls and reaches the floor of the reference band, the price of S tokens would be equal to the price of the backed collateral whereas L tokens price would be equal to zero. In this case, traders who had opened a short position would have gained a profit.&#x20;

On Mettalex, each available commodity/asset has an associated liquidity pool which contains a mix of a stablecoin and long and short position tokens. Each market/pool is controlled by a separate strategy smart contract that responds to trading activity and price updates based on an oracle (i.e. price feed). The strategy uses the Mettalex vault to convert a portion of the supplied stablecoin liquidity into position token pairs. As the spot price changes, the weights applied to short and long position tokens in the pool vary. When a swap on the Mettalex DEX is performed, the weights inside the AMM pool are updated so as to respect the constraints:

* A pair of long and short tokens is equal in value to the underlying collateral backing the pair (i.e. **1L + 1S = C**). Thus the price of long and short position tokens will be equal to the initial collateral amount C.
* The weights applied to long and short position tokens will be calculated according to the weighted average of the prices of each token, taking into account their price and quantity.

If no liquidity is either deposited or withdrawn, the price of tokens would change only through trades. Once a token is being bought by a trader, its price increases whereas the price of tokens being sold by the trader decreases. In addition, the band of reference allows users to hold these tokens as long as the spot price moves and remains inside the band. Given these boundaries and features, the long position token fair value varies from 0 to C as the spot price moves between the floor and the cap of the trading band. The short position token varies from C to 0 over the same range: the price of the long and short position tokens change according to the underlying asset’s spot price movements. If the spot price breaches the band, the L/S pair will be settled automatically and all of the collateral will become claimable by the holders of the token that corresponds to the end of the band that was breached: long token holders for a cap breach and short token holders if the floor is breached. This means traders are exposed to volatility risk related to movements in the price of underlying assets. An additional way Mettalex DEX reduces risk is through the properties of position tokens. With no expiry date or delivery associated with the tokens, the need for market participants to engage in complex rolling of positions or carry trades is eliminated. Mettalex’s cap and floor trading band gives confidence to traders as any potential losses will be limited to the initial acquisition cost of the tokens. Mettalex DEX offers the potential for scalable liquidity to be brought to sectors of the commodities market that have either been poorly traded or inaccessible to the vast majority of traders so providing a decentralised model that also helps to keep transaction fees to a minimum. &#x20;

## Risks for Liquidity Providers

Considering liquidity provisioning, while the protocol has been designed to minimise risks to liquidity providers there are still risks associated with using it such as:

* **Contract risk** - not all of the system components have been fully audited and the interactions between components may be outside the scope of components that have been audited separately.
* **Operational risk** - data feed outages or errors may cause contracts to settle unexpectedly.
* **Admin keys** - while full decentralization is on the Mettalex roadmap the initial implementation still relies on privileged admin access for some operations.
* **Market risk** - the fee structure, Autonomous Market Maker design, and system incentives are designed to minimize market risk for liquidity providers (see below). However, they may not be eliminated entirely.&#x20;

Inside the Mettalex system liquidity is provided in a single token and not as a ratio of multiple tokens. Additionally, the liquidity is provided using stable coins (e.g. USDT, BUSD) which reduces the volatility risk. As previously mentioned, the stablecoin used as a collateral to issue position tokens has a combined value which is always equal to the collateral value. When providing liquidity to Autonomous Market Makers, liquidity providers have to face the risk of **impermanent loss** and **slippage**. Fortunately, _**in Mettalex thanks to the lower volatility of the underlying assets and provision of liquidity in stablecoins, the risks of impermanent loss and slippage are controlled efficiently and are very low.**_&#x20;

One of the risks LPs could face is represented by **impermanent loss**. This **** represents the difference between the value when you are holding tokens in an AMM Liquidity Pool, and holding them in your wallet (e.g. Metamask). Trading activities change the ratio of tokens in the liquidity pool, and thus affect the value of deposited liquidity . The more the difference in value, the more impermanent loss the LP suffers. However, this loss is only temporary: in fact when the price of the tokens returns to the original value (upon deposit), the loss is erased. On the other hand the loss becomes a permanent one if the user withdraws the liquidity and absorbs the losses, or if the price continues to diverge and the user loses more tokens as a result.

Another risk LPs could face is **slippage**. Slippage happens when traders have to settle for a different price than what initially was requested due to a movement in price between the time the order enters the market and the execution of the trade. In the crypto space this event is frequent and quite costly due to the high levels of price volatility. In addition to volatility, low volume and low liquidity may also contribute to increased slippage, especially when a large order is executed and not enough liquidity is available in the pool. Therefore, the larger the transaction volume and the deeper the destruction of the liquidity in the reference pool, the higher the slippage. However, on Mettalex each time liquidity is added the AMM rebalances the tokens in the pool by minting or redeeming position token pairs to keep the ratio of stablecoin to paired long and short tokens at around 1:1, in order to respect the aforementioned constraints.

_**Even though the combination of lower volatility assets and stablecoin liquidity provisioning guarantees a very low risk of impermanent loss and slippage, the risk is not non-existent and should be taken into consideration**_. Liquidity providers expose themselves to timing risk when providing liquidity to the AMM. Because of this, LPs will see substantial returns on their investments due to trading fees that will increase their governance influence. Thus, it is possible to collect enough liquidity to provide to the AMM if needed to guarantee the execution of transactions. The Governance Layer rewards LPs with MTLX tokens: these governance tokens will increase LPs governance influence and can gain additional yield via yield farming strategies. Furthermore, LPs can trade using their position tokens on the market by opening long or short positions according to their strategies and risk propensity as the trader will have to face volatility risk connected to the underlying assets prices. However, each LP is allowed to exit a position at any point. However,  in regular circumstances, LPs who provided liquidity to the system have the opportunity to exit the system in times of high demand. This provides them with an opportunity to recoup capital before re-engaging with the system. By the way, in periods in which the Mettalex smart contract need for liquidity is high, LPs may be required to wait a short period in order to guarantee a baseline level of liquidity to be reached. This is not only to make sure the system remains afloat, but also to protect the investment they made into the exchange. Users providing liquidity to the Mettalex DEX to earn MTLX rewards have to face these potential risks considering also the possibility that the value of the rewards accumulated could change due to market dynamics.
